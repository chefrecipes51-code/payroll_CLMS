<link rel="stylesheet" href="~/assets/src/css/bootstrap-datepicker.min.css" />

<style>
    .ui-datepicker-calendar {
        display: none;
    }
    /* Hide legacy buttons */
    #btn1, #btn2, #btn3 {
        display: none !important;
    }

    /* Status Filter Buttons */
    .btn-total {
        background-color: #ece9f9;
        color: #4c2c92;
        border: none;
    }

    .btn-approval {
        background-color: #d4edda;
        color: #1e7e34;
        border: none;
    }

    .btn-rejected {
        background-color: #f8d7da;
        color: #721c24;
        border: none;
    }

    .btn-pending {
        background-color: #fff3cd;
        color: #856404;
        border: none;
    }

    .btn-primary-light {
        background-color: #e6f0ff;
        color: #0d6efd;
        border: 1px solid #b3d1ff;
    }

    /* Action Buttons */
    .btn-success-light {
        background-color: #d4edda;
        color: #1e7e34;
        border: none;
    }

    .btn-danger-blush {
        background-color: #f8d7da;
        color: #721c24;
        border: none;
    }

    .btn-secondary-light {
        background-color: #f0f0f0;
        color: #444;
        border: none;
    }

    .icon-title .btn {
        margin-left: 5px;
    }

    .sprite-icons {
        margin-right: 5px;
        vertical-align: middle;
    }

    /* Dummy icon classes (replace with real sprites if needed) */
    .check-round-success-bg::before {
        content: "✔️";
    }

    .close-round-danger-bg::before {
        content: "❌";
    }

    .arrow-round-forward-bg::before {
        content: "↪️";
    }

    .btn-routed-by-me {
        background-color: #e0f7f4;
        color: #00796b;
        border: 1px solid #b2dfdb;
    }

    .btn-routed-to-me {
        background-color: #f3e5f5;
        color: #6a1b9a;
        border: 1px solid #d1c4e9;
    }

</style>

<div class="alert-custom" style="display:none;"></div>

<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active">Approval</button>
    </div>
</nav>
<div class="mb-3">
</div>
<div class="d-flex justify-content-between align-items-center flex-wrap mb-4 px-3"
     style="max-width: 100%; overflow-x: auto;">
    <div class="d-flex flex-wrap gap-2 btn-group-left">
        <button class="btn btn-total">Total : 03</button>
        <button class="btn btn-approval">Approval : 03</button>
        <button class="btn btn-rejected">Rejected : 04</button>
        <button class="btn btn-pending">Pending : 01</button>
       @*  <button class="btn btn-routed-by-me">Routed By Me : <span class="fw-bold">01</span></button>
        <button class="btn btn-routed-to-me">Routed to Me : <span class="fw-bold">01</span></button> *@
    </div>
    <div class="d-flex gap-2 align-items-center">      
        <div class="input-group" style="max-width: 200px; cursor: pointer;">
            <input type="text"
                   class="form-control"
                   id="effectiveFromDtEdit"
                   name="effectiveFromDtEdit"
                   readonly />
        </div>
        <button class="btn btn-secondary-light icon-title" id="btnForwardSelected">
            <span class="arrow-round-forward-bg"></span>
        </button>
        <button class="btn btn-danger-blush icon-title" id="btnReturnSelected">
            <span class="close-round-danger-bg"></span>
        </button>
        <button class="btn btn-success-light icon-title" id="btnVerifySelected">
            <span class="check-round-success-bg"></span>
        </button>
    </div>
</div>

<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-approval-list" role="tabpanel"
         aria-labelledby="nav-approval-list-tab">
        <div class="table-card">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive table-approval-list">
                        <table id="approval-list" class="table custom-table">
                            <thead>
                                <tr>
                                    <th class="sticky_cell checkbox">
                                        <div class="input-group">
                                            <input id="checkAll" class="form-check-input mt-0" type="checkbox" />
                                        </div>
                                    </th>
                                    <th>Audit ID</th>
                                    <th>Module Name</th>
                                    <th>Approver Name</th>
                                    <th>Reported By</th>
                                    <th>Request Date</th>
                                    <th>Status</th>
                                    <th class="sticky_cell">Actions</th>
                                </tr>
                            </thead>
                            <tbody>                               
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade modal-custom modal-primary-confirmation" id="rejectionUser" data-bs-backdrop="static"
     data-bs-keyboard="false" tabindex="-1" aria-labelledby="rejectionUserLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <p class="md-text-500">Want to reject this user?</p>               
                <label for="rejectionRemarks" class="form-label">Remarks <sup>*</sup></label>
                <textarea class="textarea" id="rejectionRemarks" rows="3" maxlength="120"
                          placeholder="Enter Text here"></textarea>
                <div class="counter sm-text-gray-neutral text-end">0 / 120</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn_primary_outline" data-bs-dismiss="modal" id="btnrejectNo">No</button>
                <button type="button" class="btn btn_danger loader-dot-pulse" id="btnrejectYes">Yes</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/assets/src/js/bootstrap-datepicker.min.js"></script>   
    <script src="~/assets/src/custom-js/datepicker-ctm.js"></script>
        <script src="~/application/js/common/formatDate.js"></script>
    <script src="~/application/js/approvalMatrix/approvalsList.js"></script>   
}