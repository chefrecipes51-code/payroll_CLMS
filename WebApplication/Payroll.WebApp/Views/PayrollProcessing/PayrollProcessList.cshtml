<link href="~/assets/src/css/select2.min.css" rel="stylesheet">
<link rel="stylesheet" href="~/assets/src/scss/style.css">
<div class="app-layout">
    <div class="title-container">
        <div class="current-back">
            <button class="btn btn-back-icon" onclick="window.location.href='user-profile.html'">
                <span class="sprite-icons back-violet"></span>
            </button>
            <p class="title-primary">Earning</p>
        </div>
        <div class="button-group">
            <button class="btn btn_primary_outline_md">Cancel</button>
        </div>
    </div>

    <div class="table-card">
        <div class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table id="roles-permission" class="table custom-table">
                        <thead>
                            <tr>
                                <th>Employee ID</th>
                                <th>Employee Name</th>
                                <th>Location</th>
                                <th>Pay Period</th>
                                <th>Basic</th>
                                <th>HRA</th>
                                <th>DA</th>
                                <th>Overtime</th>
                                <th>Bonus</th>
                                <th>Total Earnings</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>EMP001</td>
                                <td>Vigna</td>
                                <td>HO</td>
                                <td>May 2025</td>
                                <td>25,000</td>
                                <td>10,000</td>
                                <td>5,000</td>
                                <td>2,000</td>
                                <td>3,000</td>
                                <td>45,000</td>
                                <td>
                                    <div class="chip success">Calculated</div>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade modal-custom modal-primary-confirmation" id="calculateProgress" data-bs-backdrop="static"
     data-bs-keyboard="false" tabindex="-1" aria-labelledby="calculateProgressLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-between border-0">
                <p class="title-primary">Phase 1/3</p>
                <button type="button" class="btn" data-bs-toggle="modal"
                        data-bs-target="#calculateAbort">
                    <span class="sprite-icons close-icon"></span>
                </button>
            </div>
            <div class="modal-body p-3">
                <!-- <div class="calculation-progress-wrapper"> -->
                <div class="calculation-progress-container">
                    <div class="d-flex align-items-center justify-content-between">
                        <p class="md-text-500 text-black-terminal">
                            Payroll calculation is in progress. Please wait
                            for a while.
                        </p>
                        <!-- <button type="button" class="btn-close" aria-label="Close"></button> -->
                    </div>
                    <div class="conpany-setup-container">
                        <div class="progress">
                            <div class="progress-bar bg-primary" role="progressbar" style="width: 0%;" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <p class="sm-text text-center mt-1" id="progress-percent">0%</p>
                    </div>
                    <div class="status-indicator d-flex align-items-center justify-content-between">
                        <div class="status-display">
                            <span class="status-dot dot-success"></span>
                            <p class="sm-text text_success" id="notif-completed">Completed (0)</p>
                        </div>
                        <div class="status-display">
                            <span class="status-dot dot-warning"></span>
                            <p class="sm-text text_warning" id="notif-remaining">Remaining (0)</p>
                        </div>
                        <div class="status-display">
                            <span class="status-dot dot-primary"></span>
                            <p class="sm-text text_primary" id="notif-total">Total: 0</p>
                        </div>
                    </div>
                </div>
                <!-- </div> -->

            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-custom modal-primary-confirmation" id="calculateAbort" data-bs-backdrop="static"
     data-bs-keyboard="false" tabindex="-1" aria-labelledby="calculateAbortLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body text-center">
                <img src="~/assets/img/info-danger.svg" height="77" width="134" alt="Confirmation">
                <p class="title-primary">Are you sure want to abort this calculation?</p>
            </div>
            <div class="modal-footer">
                <div class="form-action d-flex align-items-center justify-content-center w-100">
                    <button type="button" class="btn btn_danger_outline me-2 w-25">Yes</button>
                    <button type="button" class="btn btn_primary w-25" data-bs-dismiss="modal">
                        Run in
                        Background
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {

    <!-- open modal when page load -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var myModal = new bootstrap.Modal(document.getElementById('calculateProgress'));
            myModal.show();
        });
    </script>


    <!-- dropdown active -->
    <script>
        const dropdownMenu = document.getElementById('dropdownMenu');

        // Handle dropdown item click
        dropdownMenu.addEventListener('click', (event) => {
            if (event.target.classList.contains('dropdown-item')) {
                // Remove 'active' class from all items
                dropdownMenu.querySelectorAll('.dropdown-item').forEach((item) => {
                    item.classList.remove('active');
                });
                // Add 'active' class to the clicked item
                event.target.classList.add('active');
            }
        });
    </script>

}
