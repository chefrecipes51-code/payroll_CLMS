@model IEnumerable<Payroll.WebApp.Models.DTOs.PayGradeMasterDTO>
<link href="~/assets/src/css/select2.min.css" rel="stylesheet">
<link rel="stylesheet" href="~/assets/src/scss/style.css">
@{
    var renderedPayGradeIds = new HashSet<int>(); // To track rendered AreaIds
}

@{
    ViewBag.HideBreadcrumb = true;
}
<style>
    #btn1, #btn2, #btn3, #btn4 {
        display: none !important;
    }
</style>
<input type="hidden" id="userPermissionsData" value='@Html.Raw(Json.Serialize(ViewBag.UserPermissions))' />

<div class="alert-custom" style="display:none;">
    <!-- use class for different alerts like (alert-success, alert-danger, alert-warning, alert-primary) -->
    <!-- Alert content will be dynamically inserted based on the alert type -->
</div>
<div class="payroll-tabs-content-container">
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button class="nav-link active"
                    onclick="window.location.href='PayGrade'">
                Pay Grade
            </button>
        </div>
    </nav>

    <div class="quick-filter-container">
        <div class="btn-group-left">
            <div class="chip primary">Total Pay Grades: <span id="payGradeCount">@ViewBag.PayGradeCount</span></div>
        </div>
        <div class="icon-title">
            <button class="btn btn_primary add-button btn-add-hide" data-bs-toggle="modal"
                    data-bs-target="#paygradeadd" id="btnAddPayGrade">
                <span class="sprite-icons add-light"></span>
            </button>
        </div>
    </div>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-user-list" role="tabpanel"
             aria-labelledby="nav-user-list-tab">
            <div class="table-card">
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive table-roles-permission-list table-tab-content" id="payGradeContainer">
                            @Html.Partial("_PayGradeListPartialView", Model)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- start add pay grade modal -->
<div class="modal fade modal-bg-puple-light" id="paygradeadd" data-bs-backdrop="static" data-bs-keyboard="false"
     tabindex="-1" aria-labelledby="paygradeaddLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-between">
                <p class="title-primary" id="formTitle">Add Pay Grade</p>
                <button type="button" class="btn" data-bs-dismiss="modal" aria-label="Close">
                    <span class="sprite-icons close-icon"></span>
                </button>
            </div>
            <form id="payGradeForm">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label for="paygradecode" class="form-label">
                                    Pay Grade Code
                                    <sup>*</sup>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter pay grade code" id="paygradecode"
                                       name="paygradecode" maxlength="20">
                                <span id="paygradecode-error" class="input_error_msg"></span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label for="paygradename" class="form-label">
                                    Pay Grade Name
                                    <sup>*</sup>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter pay grade name"
                                       id="paygradename" name="paygradename" maxlength="50">
                                <span id="paygradename-error" class="input_error_msg"></span>
                            </div>
                        </div>

                        <div class="col-6">
                            <div class="form-group">
                                <label for="minsalary" class="form-label">
                                    Min. Salary
                                    <sup>*</sup>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter min. salary" id="minsalary"
                                       name="minsalary" style="text-align: right;">
                                <span id="minsalary-error" class="input_error_msg" ></span>
                            </div>
                        </div>

                        <div class="col-6">
                            <div class="form-group">
                                <label for="maxsalary" class="form-label">
                                    Max. Salary
                                    <sup>*</sup>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter max. salary" id="maxsalary"
                                       name="maxsalary" style="text-align: right;">
                                <span id="maxsalary-error" class="input_error_msg"></span>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group mb-0">
                                <label for="description" class="form-label">Description</label>
                                <textarea class="textarea" id="description" name="description" rows="3" maxlength="120"
                                          placeholder="Enter Text"></textarea>
                                <div class="counter sm-text-gray-neutral text-end">0 / 120</div>
                            </div>
                        </div>
                        <!-- Active Toggle (initially hidden) -->
                        <div id="togglePayGradeContainer" class="form-group mb-3" style="display: none;">
                            <label class="form-label" for="payGradeActiveToggle">Status</label>
                            <div class="form-check form-switch d-flex align-items-center">
                                <input type="checkbox" id="payGradeActiveToggle" class="form-check-input" role="switch">
                                <label class="form-check-label ml-2" for="payGradeActiveToggle" id="activeStatusLabel">Inactive</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <!-- <div class="d-flex align-items-center justify-content-between"> -->
                    <button type="button" class="btn btn-transparent-danger" id="btnResetPayGrade">Reset</button>
                    <div class="btn_group">
                        <button type="button" class="btn btn_primary_outline_md" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn_primary loader-dot-pulse"  id="btnSavePayGrade">Yes</button>
                    </div>

                    <!-- </div> -->
                </div>
            </form>
        </div>
    </div>
</div>
<!-- end add pay grade modal -->
@section Scripts {
    <script src="~/assets/src/js/select2.min.js"></script>
    <script src="~/assets/src/custom-js/script.js"></script>
    <script src="~/assets/src/custom-js/select2.js"></script>
    <script src="~/application/js/payconfiguration/paygrade.js"></script>
    <script src="~/application/js/common/form-validation.js" asp-append-version="true"></script>
    
}